---
title: 'PrestaShop'
search_results: 'PrestaShop plugin'
subtitle: 'No Code: Customize your online store quickly and easily'
tag: 'rest'
created: '06/08/2024'
---

By integrating with our PrestaShop plugin, you gain access to the full range of our solutions, including <Tooltip content="Payment Card Industry Data Security Standard">PCI DSS</Tooltip> scope reduction via [Hosted Fields](#hosted-fields "Hosted Fields section") (Drop-In UI), credit and debit processing, Digital Wallets, [Card Storage](#card-storage "Card Management section"), [3D Secure](#3Dsecure "3D Secure section"), and [Order Management](#order-management "Order Management section").

Specifications
--------------

* **Categories:** Payment by Card or Wallet
* **Languages available:** English
* **Developer languages:** English
* **PrestaShop compatibility:** V1.7.0.0 - V9.0
* **Module version:** V1.3.1
* **Account required on a third-party service:** Yes

Step 1: Installation
--------------------

### Access plugin

Click the button below to download this plugin and view any related documentation available.

<index-button type="anchor" href="https://addons.prestashop.com/en/payment-card-wallet/53227-global-payments.html">Go to Plugin/Marketplace</index-button>

### Credentials

#### Sandbox credentials

Our PrestaShop plugin requires credentials to our Unified Payments gateway. Test credentials can be obtained after registering with our [developer portal](/user "Developer Portal"). Once registration is complete, the required App Key and App Id can be found under the Unified Payments Apps section of the Profile menu. For more information and instructions, see our [Unified Payments Apps](/docs/Unified-Payments-Apps "Unified Payments Apps") article.

#### Apple Pay credentials

To integrate with Apple Pay, you’ll need to obtain the encrypted payment credentials. To do this, follow the steps in the applicable Apple guide below:

* [In-app - Apple Pay PassKit](https://developer.apple.com/documentation/passkit/apple_pay/ "Apple Pay PassKit")
* [In-browser - Apple Pay on the Web](https://developer.apple.com/documentation/apple_pay_on_the_web/ "Apple Pay on the Web")

For more Apple Pay setup information, see our [Apple Pay](/docs/applepay#api "Apple Pay") article.

### Configuration

To configure this plugin, follow these steps.

1.  Log in to the Admin panel for PrestaShop.
2.  Navigate to **Modules > Module Manager**. 
3.  Under the **Other** tab, locate our module, and click **Configure**. _From here, you can configure our gateway._

### Settings

The [Unified Payments](#unified-payments-settings "Unified Payments Settings section") gateway offers payment through credit and debit cards. Additional payment methods like Digital Wallets ([Google Pay](#google-pay-settings "Google Pay Settings section"), [Apple Pay](#apple-pay-settings "Apple Pay Settings section"), and [PayPal](#paypal-settings "PayPal Settings")), Buy Now Pay Later ([Affirm](#affirm-settings "Affirm Settings section"), [Clearpay](#clearpay-settings "Clearpay Settings section"), and [Klarna](#klarna-settings "Klarna Settings section")), and [Bank Payment](#bank-payment-settings "Bank Payment settings") can be enabled via the Unified Payments gateway.

#### Unified Payments settings

The Unified Payments Settings tab allows you to enter your overall account credentials. The following table describes the fields that appear on the Unified Payments Settings tab for PrestaShop. 

| Field | Description |
| --- | --- |
| Enable | Determines if the payment method is available at your PrestaShop store’s checkout. |
| Title | Description of the payment method displayed to the customer at checkout, e.g.,"Credit Card." |
| Live Mode | Allows you to switch between the Live and Sandbox version of your account with us. |
| Sandbox/Live App Id | The App Id and App Key are used to obtain a bearer access token to execute API actions. For more information, see the [Sandbox credentials](#sandbox-credentials "Sandbox Credentials") section. |
| Sandbox/Live App Key |
| Credentials Check | Determines if your credentials are valid.  <br/>Note: The payment methods will not be displayed at checkout if the credentials are not correct. |
| Enable Logging | Allows logging of all requests to and from the gateway. Can also log private data. Should only be enabled in a development or stage environment. The requests will be logged in the var/logs folder. The structure for the name of the log file is as follows:  <br/>_log_\{current_date\}.txt_ |
| Contact Url | A link to an About or Contact page on your website with customer care information (max length: 50). This field is mandatory. |
| Enable 3D Secure | Enables the 3D Secure feature. For more details, see the [3D Secure](#3Dsecure "3D Secure section") section. |
| Payment Action | The Sale transaction can be flagged for automatic capture (Authorize + Capture) or flagged as requiring a separate capture action later (Authorize only). |
| Allow Card Saving | Determines whether customer's cards can be saved to our Card Storage solution following a successful transaction.  <br/>If set to **Yes**, a checkbox displays on the Hosted Fields form that gives the customer the choice to store their card.  <br/>If set to **No**, no checkbox displays, and the card is not stored. |
| Order Transaction Descriptor | During a Capture or Authorize payment action, this value is passed along as the transaction-specific descriptor listed on the customer's bank account. |
| Sort Order | Sort order for checkout. |

#### Google Pay settings

<Infobox>For this payment method to work, you’ll need to **fully configure** the Unified Payments gateway. For more information, see the [Unified Payments settings](#unified-payments-settings "Unified Payments Settings") section.</Infobox>

The Google Pay Settings tab allows you to enter your overall account credentials. The following table describes the fields that appear on the Google Pay Settings tab for PrestaShop. 

  
| Field | Description |
| --- | --- |
| Enable | Determines if the payment method is available at your PrestaShop store’s checkout. |
| Title | Description of the payment method displayed to the customer at checkout, e.g., "Pay with Google Pay." The title will also be recorded in PrestaShop to indicate how the transaction was processed. |
| Merchant ID | The Merchant ID provided by us. |
| Google Merchant ID | The Merchant ID provided by Google. |
| Accepted Cards | Determines what card types can be used at checkout when paying with Google Pay. |
| Allowed Card Auth Methods | Methods allowed to authenticate a card transaction.  <br/>**PAN_ONLY:** This authentication method is associated with payment cards stored on file with the user's Google account.   <br/>**CRYPTOGRAM_3DS:** This authentication method is associated with cards stored as Android device tokens.<br/><br/>PAN\_ONLY can expose the Funding Primary Account Number (FPAN), which requires an additional Strong Customer Authentication (SCA) step up to a 3DS check. Currently, we don’t support the Google Pay SCA challenge with an FPAN. For the best acceptance, we recommend that you provide only the CRYPTOGRAM\_3DS option. |
| Button Color | Determines the color of the Google Pay button displayed at checkout. |
| Payment Action | The Sale transaction can be flagged for automatic capture (Charge) or flagged as requiring a separate capture action later (Authorize). |
| Sort Order | Sort order for checkout. |

#### Apple Pay settings

<Infobox>For this payment method to work, you’ll need to **fully configure** the Unified Payments gateway. For more information, see the [Unified Payments settings](#unified-payments-settings "Unified Payments Settings") section.</Infobox>

The Apple Pay Settings tab allows you to enter your overall account credentials. The following table describes the fields that appear on the Apple Pay Settings tab for PrestaShop.

| Field | Description |
| --- | --- |
| Enable | Determines if the payment method is available at your PrestaShop store’s checkout. |
| Title | Description of the payment method displayed to the customer at checkout, e.g., "Pay with Apple Pay." The title will also be recorded in PrestaShop to indicate how the transaction was processed. |
| Apple Merchant ID | The Merchant ID provided by Apple. For more info on creating an Apple Merchant ID, see [Apple Pay Programming](https://developer.apple.com/library/archive/ApplePay_Guide/Configuration.html "Apple Pay Programming Guide"). |
| Apple Merchant Cert Path | The path for the .crt.pem file. This path is the relative path from the root. For example, if you store this certificate as _&lt;prestashop_location&gt;/.well-known/ApplePay.crt.pem_, the path should be _.well-known/ApplePay.crt.pem_  <br/>For more Apple Pay setup information, see the [Apple Pay credentials](#apple-pay-credentials "Apple Pay Credentials section") section or our [Apple Pay](/docs/applepay#api "Apple Pay") article. |
| Apple Merchant Key Path | The path for the _.key.pem_ file. For more Apple Pay setup information, see the [Apple Pay credentials](#apple-pay-credentials "Apple Pay Credentials section") section or our [Apple Pay](/docs/applepay#api "Apple Pay") article. |
| Apple Merchant Key Passphrase | The encryption key for the ._key.pem_ file. If the .key.pem file is not encrypted, this field must be empty. |
| Apple Merchant Domain | To fill this field, you will need to register and validate your domain in your Apple account first. Once validated, insert the domain value in your Apple account for the current domain into this field. |
| Apple Merchant Display Name | The text displayed to the customer in the Apple Pay dialog box. |
| Accepted Cards | Determines what types of cards can be used at checkout when paying with Apple Pay. |
| Payment Action | The Sale transaction can be flagged for automatic capture (Charge) or flagged as requiring a separate capture action later (Authorize). |

#### PayPal settings

<Infobox>For this payment method to work, you’ll need to **fully configure** the Unified Payments gateway. For more information, see the [Unified Payments settings](#unified-payments-settings "Unified Payments Settings") section.</Infobox>

The PayPal Settings tab allows you to enter your overall account credentials. The following table describes the fields that appear on the Settings tab. 

  
| Field | Description |
| --- | --- |
| Enable | Determines if the payment method is available at your PrestaShop store’s checkout. |
| Title | Description of the payment method displayed to the customer at checkout, e.g., "Pay with PayPal." The title will also be recorded in PrestaShop to indicate how the transaction was processed. |
| Payment Action | The Sale transaction can be flagged for automatic capture (Charge) or flagged as requiring a separate capture action later (Authorize). |
| Sort Order | Sort order for checkout. |

#### Affirm settings

<Infobox>For this payment method to work, you’ll need to **fully configure** the Unified Payments gateway. For more information, see the [Unified Payments settings](#unified-payments-settings "Unified Payments Settings") section.</Infobox>

The Affirm Settings tab allows you to enter your overall account credentials. The following table describes the fields that appear on the Affirm Settings tab for PrestaShop. 

  
| Field | Description |
| --- | --- |
| Enable | Determines if the payment method is available at your PrestaShop store’s checkout. |
| Title | Description of the payment method displayed to the customer at checkout, e.g., "Pay with Affirm." The title will also be recorded in PrestaShop to indicate how the transaction was processed. |
| Payment Action | The Sale transaction can be flagged for automatic capture (Charge) or flagged as requiring a separate capture action later (Authorize). |

#### Clearpay settings

<Infobox>For this payment method to work, you’ll need to **fully configure** the Unified Payments gateway. For more information, see the [Unified Payments settings](#unified-payments-settings "Unified Payments Settings") section.</Infobox>

The Clearpay Settings tab allows you to enter your overall account credentials. The following table describes the fields that appear on the Clearpay Settings tab for PrestaShop. 

  
| Field | Description |
| --- | --- |
| Enable | Determines if the payment method is available at your PrestaShop store’s checkout. |
| Title | Description of the payment method displayed to the customer at checkout, e.g., "Pay with Clearpay." The title will also be recorded in PrestaShop to indicate how the transaction was processed. |
| Payment Action | The Sale transaction can be flagged for automatic capture (Charge) or flagged as requiring a separate capture action later (Authorize). |

#### Klarna settings

<Infobox>For this payment method to work, you’ll need to **fully configure** the Unified Payments gateway. For more information, see the [Unified Payments settings](#unified-payments-settings "Unified Payments Settings") section.</Infobox>

The Klarna Settings tab allows you to enter your overall account credentials. The following table describes the fields that appear on the Klarna Settings tab for PrestaShop. 

  
| Field | Description |
| --- | --- |
| Enable | Determines if the payment method is available at your PrestaShop store’s checkout. |
| Title | Description of the payment method displayed to the customer at checkout, e.g., "Pay with Klarna." The title will also be recorded in PrestaShop to indicate how the transaction was processed. |
| Payment Action | The Sale transaction can be flagged for automatic capture (Charge) or flagged as requiring a separate capture action later (Authorize). |

#### Bank Payment settings

<Infobox>For this payment method to work, you’ll need to **fully configure** the Unified Payments gateway. For more information, see the [Unified Payments settings](#unified-payments-settings "Unified Payments Settings") section.</Infobox>

The Bank Payment Settings tab allows you to enter your overall account credentials. The following table describes the fields that appear on the Settings tab. 

  
| Field | Description |
| --- | --- |
| Enable | Determines if the payment method is available at your PrestaShop store’s checkout. |
| Title | Description of the payment method displayed to the customer at checkout, e.g., "Pay with Bank Payment." The title will also be recorded in PrestaShop to indicate how the transaction was processed. |
| Account Number | Account number for bank transfers within the United Kingdom (UK-to-UK bank). Required only if no bank details are stored on the account. |
| Account Name | The name of the individual or business on the bank account. Required only if no bank details are stored on the account. |
| Sort Code | Six digits that identify the bank and branch of an account. Included with the account number for UK-to-UK bank transfers. Required only if no bank details are stored on the account. |
| IBAN | Key field for bank transfers for Europe-to-Europe transfers. Required only if no bank details are stored on the account. Required only for EUR transacting merchants. |
| Countries | Allows you to input a COUNTRY or string of COUNTRIES to limit what is shown to the customer. Including a country overrides your default account configuration.  <br/>Format: List of ISO 3166-2 (two characters) codes separated by a \|  <br/>Example: FR\|GB\|IE |
| Currencies | The payment method will be displayed at checkout only for the selected currencies. |
| Payment Action | The Sale transaction can be flagged for automatic capture (Charge) or flagged as requiring a separate capture action later (Authorize). |
| Sort Order | Sort order for checkout. |

Step 2: Test integration
------------------------

Use the test card numbers below to verify that your integration was set up properly. For testing, you can use any cardholder name, any expiry date in the future, and any CVN security code.

For a full list of test cards, see our [Test Cards](/resources/test-cards "Test Cards") article.

<CreditCardGroup>
  <CreditCard type="Visa" number="4263970000005262" />
  <CreditCard type="Visa" number="4000120000001154" success={false} />
</CreditCardGroup>

Step 3: Going live
------------------

Now that you’ve successfully installed the plugin and tested to see if it was installed properly, you’re all set to go live in the Production environment. For more information, see our [Integration Validation to Go Live](/support/integration-valid "Integration Validation to Go Live") article.

**Connect your integration for Production:**

* Input your Production App Id /App Key into your gateway configuration in the PrestaShop Admin panel, and enable the “Live Mode” for the Unified Payments gateway. 

**Go to Production with Google Pay:**

* This payment method shares the Sandbox/Production mode with the Unified Payments gateway.
* Process test transactions:
    * Google does not offer test cards, so you’ll have to use real ones.
    * In Sandbox mode, our gateway allows only specific order amount values; all other values will be automatically declined. You can check the allowed values in the [Google Pay section](/resources/test-cards#google-pay "Test Cards for Google Pay") of our Test Cards article.

**Go to Production with Apple Pay:**

* This payment method shares the Sandbox/Production mode with the Unified Payments gateway.
* Process test transactions:
    * You first need to configure a Sandbox account for Apple. For information on how to create a Sandbox account and test cards, see the Apple’s [Sandbox Testing](https://developer.apple.com/apple-pay/sandbox-testing/ "Apple Sandbox Testing article") article.
    * In Sandbox mode, our gateway allows only specific order amount values; all other values will be automatically declined. You can check the allowed values in the [Apple Pay section](/resources/test-cards#apple-pay "Test Cards for Apple Pay") of our Test Cards article.

**Go to Production with PayPal:**

* This payment method shares the Sandbox/Production mode with the Unified Payments gateway.
* Process test transactions:
    * Contact the Unified Payments team and ask them to enable PayPal for your current account (see [Integration Support](/support/integration "Integration Support")).
    * Once you get redirected to the PayPal payment page, create an account and process different transactions.

**Go to Production with Affirm:**

* This payment method shares the Sandbox/Production mode with the Unified Payments gateway.
* Process test transactions:
    * Contact the Unified Payments team and ask them to enable Buy Now Pay Later for your current account (see [Integration Support](/support/integration "Integration Support")).
    * This payment method will be displayed at checkout only for the following currency - country cases: USD - US and CAD - CA.
    * Once you get redirected to the Affirm payment page, create an account and process different transactions.

**Go to Production with Clearpay:**

* This payment method shares the Sandbox/Production mode with the Unified Payments gateway.
* Process test transactions:
    * Contact the Unified Payments team and ask them to enable Buy Now Pay Later for your current account (see [Integration Support](/support/integration "Integration Support")).
    * This payment method will be displayed at checkout only for the following currency - country cases: USD - US, CAD - CA, GBP - GB, AUD - AU, and NZD - NZ.
    * Once you get redirected to the Clearpay payment page, create an account and process different transactions.

**Go to Production with Klarna:**

* This payment method shares the Sandbox/Production mode with the Unified Payments gateway.
* Process test transactions:
    * Contact the Unified Payments team and ask them to enable Buy Now Pay Later for your current account (see [Integration Support](/support/integration "Integration Support")).
    * This payment method will be displayed at checkout only for the following currency - country cases: USD - US, CAD - CA, GBP - GB, AUD - AU, NZD - NZ, EUR - AT, EUR - BE, EUR - DE, EUR - ES, EUR - FI, EUR - FR, EUR - IT, EUR - NL, CHF - CH, DKK - DK, NOK - NO, PLN - PL, and SEK - SE.
    * Once you get redirected to the Klarna payment page, create an account and process different transactions.

**Go to Production with Bank Payment:**

* This payment method shares the Sandbox/Production mode with the Unified Payments gateway.
* Process test transactions:
    * Contact the Unified Payments team and ask them to enable Open Banking for your current account (see [Integration Support](/support/integration "Integration Support")).
    * Once you get redirected to the Bank Payment payment page, create an account and process different transactions.

Additional information
----------------------

This section contains information on payment solutions such as [Hosted Fields](#hosted-fields "Hosted Fields section") and [Hosted Payment Page](#hosted-payment-page "HPP section"), risk management solutions such as [3D Secure](#3Dsecure "3D Secure section"), and expanded features such as [Card Management](#card-storage "Card Management section") and [Order Management](#order-management "Order Management section").

For the Buy Now Pay Later payment methods (Affirm, Clearpay, and Klarna), additional information on checkout flow can be found in the [Async Payment Methods](#async-payment-methods "Async Payment Methods") section.

### Hosted Fields

For information on our PCI DSS requirement-reducing hosted solution, Hosted Fields (Drop-In UI), see our [Hosted Fields - Overview](/docs/payments/online/hosted-fields-overview "Hosted Fields Overview") page.

### Hosted Payment Page

For information on our Hosted Payment Page for Unified Payments REST API integrators, see our [Hosted Payment Page - Overview](/docs/payments/online/hosted-payment-page-overview "Hosted Payment Page Overview") page.

### 3D Secure

For information on our 3D Secure solutions, see our [3D Secure - Overview](/docs/3DS-overview "3D Secure Overview") page. We provide a Simulator Issuer Access Control Server that allows you to test different 3D Secure scenarios. For more information, see the [3D Secure section](/resources/test-cards#3dsecure-2 "Test Cards - 3D Secure") of our Test Cards article.


### Card Management

All card data is tokenized using our tokenization service.

Registered customers can save their card information by selecting the “Save for later use” checkbox in the checkout form. The PrestaShop plugin securely stores card data with us and receives a token representation of the card, which is stored in the PrestaShop vault, with no increased PCI compliance requirements.

1.  The customer can choose from the list of their stored cards.
    
    ![Radio buttons with card selection. Place Order button at bottom.](/gh-assets/plugins/PrestaShop-CardMgt1.png)
    
2.  Registered customers can see the list of their stored cards under **My Account > My Cards**. They can also delete their stored cards from here.

### Async Payment Methods

This section applies only to the Buy Now Pay Later payment methods (Affirm, Clearpay, and Klarna) and the Bank Payment payment method. All sections except “Receiving the final payment status” apply to PayPal as well.

Because these payment methods are handled by third-party services and require further processing from these third parties, the checkout flow has some differences compared with the Unified Payments or Digital Wallets ones.

#### Initiate the payment

1.  When a customer clicks the **Place Order** button, the order is placed with a “Waiting for payment” status.
2.  Once the order has been created, an Initial Payment request type will occur.

#### Redirect to third-party service

If the Initiate Payment request is successful, the customer will be redirected to the third-party service to pay.

![Affirm login screen with enter mobile number field and Continue button](/gh-assets/plugins/PrestaShop-Async-PM2.png)
<p style={{textAlign: "center"}}>**Third-Party Service Example**</p>

#### Redirect back to your website

##### Cancel the payment

1.  If the customer decides to cancel the payment using the option provided by the third-party service (for example, clicking the X button on top left of the screen), they will be redirected to the cart page. Also, the order that was previously created will be canceled.
    
    ![Popup message to confirm cancelation without completing loan request](/gh-assets/plugins/PrestaShop-Async-PM3.png)
    
2.  The order canceling will not be processed in your website if the customer decides to leave the page using another option (for example, browser back button, browser X button, or closing the tab); therefore, the order will still have the ‘Waiting for payment’ status in these cases.

##### Successfully completing the payment

1.  If the customer successfully completes the payment, they will be redirected to the success page.
2.  At this point, the order will still have a **Pending Payment** status. For more details, see the next section.

##### Receiving the final payment status

If you're using Apache, you’ll need a version **greater than 2.4.47** and the following directive added to your config: **SetEnv proxy-sendcl 1**. Otherwise, the orders within your platform will not be updated as expected.

1.  Since these payment methods are asynchronous, the final transaction status might not be available immediately.
2.  Once our system gets the final status, it will notify your website.
3.  At that point, the order status will be changed to **Processing**.

#### ‘Waiting for payment’ orders

1.  In cases where the orders are stuck in a **Pending Payment** status, we provide a **Get Transaction Details** button.
2.  Clicking the **Get Transaction Details** button will fetch all the information about the current transaction and display it in a pop-up window.  
3.  Based on the Transaction Status, you can manually cancel the order or just continue with the normal flow.

### Order Management

1.  Detailed information on transaction outcome is available in the **Orders** section for PrestaShop.
2.  If the payment was successful, the order status will be set to **Payment Accepted**.

#### Create an invoice – capture a transaction

Merchants who use “Authorize only” at checkout will authorize the funds on the customer’s card, but the transaction won’t be placed in the settlement file until we capture it. The amount of time the funds can remain ring-fenced on the customer's card may vary between different Issuers and Acquirers. Card brands like Visa and Mastercard have their own rules around how long transactions can wait to be captured.

1.  To view the response returned by us, first open the order and then select **Transactions** from the left menu. Then, scroll to the bottom of the page to view the response details.
2.  If successfully authorized, the funds will be ring-fenced on the customer’s account. When you want to include the transaction in the next settlement file (also known as a _batch_), you can simply send a Capture (Settle) request. When the transaction is captured with the Acquirer, the funds are deducted from the customer's account and settled into the merchant's account.
3.  At this point, if you select the **Documents** tab, you'll see that there is no invoice associated with the order. This is because we haven't captured it yet. 
4.  For the request to be sent to us, you must select **Capture** from the** Transaction Management** tab. 
5.  Once complete, the result of the Settle request will be displayed. A comment is included in the Transaction Management History tab. For example:  
    Transaction captured, amount: 20.00 USD. Transaction ID for the capture: TRN\_AUqXhl9sAuJ3TeKfAIfrEbPbB8O9L0\_e8f587f27ee6
6.  If you select the **Documents** tab now, you’ll see the invoice associated with the order.

#### Refund a captured transaction

Once an order has been successfully settled with your Acquirer, you can rebate the customer for 0% to 100% of the original order value. To do this, you must create a Partial Refund in PrestaShop. 

1.  Navigate to **Orders**, and select the order you want to rebate. 
2.  Click **Partial refund**. This will send the rebate request to us. You can edit the amount to rebate by editing the adjustment fields provided by PrestaShop.
    
    ![Product screen with Partial Refund button](/gh-assets/plugins/PrestaShop-OrderMgt2a.png)
    
3.  Once complete, you will be returned to the **Order** page, and a message indicating the outcome of the rebate request will display. 
4.  A comment will be also added to the Transaction Management History tab. For example: 18.9USD was reversed or refunded. Transaction ID: TRN\_1EVdczFZxLthk87bzWRIjJASMtmhPz\_9b5e6cd4f6f3

#### Pay for order

1.  For an order created on the admin side with the status “Waiting for payment,” a new **Pay for Order** button is displayed.
2.  Clicking this button will open a pop-up window where the admin can pay for the total order value using a card or one of the stored cards of the user that the order was set to.
    
    ![Pop-up window with inputs for credit card information and Pay button](/gh-assets/plugins/PrestaShop-OrderMgt4.png)
